<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Crank's Live Race Monitor</title>
    <link rel="stylesheet" href="CrankyRacing.css">

    <script src="RaceFunctions.js"></script>
    <!-- Create a Twitch.Embed object that will render within the "twitch-embed" element -->
    <script type="text/javascript">
        
    </script>


    <script>
        // Configuration
        var dataUrl = "https://srvtracker.darkbytes.co.uk/DataCollator/";
        var canvasWidth = 800;
        var canvasHeight = 800;

        // Global variables
        var activeRace = null;
        var updateTimer = null;
    </script>
</head>
<body onload="InitialisePage()">
    <div class="gridContainer">
        <div id="header"><div class="marquee"><p id="raceAnnouncements">Crank's Live Race Monitor</p></div></div>
        <div id="infoPanel">
            <div id="selectRace" onchange="ConnectRace()">
                <select id="activeRaces">
                    <option>No races active.</option>
                </select>
                <div class="buttonStyle" onclick="ToggleSettings()">Settings</div>
            </div>
            <div id="settings">
                Course image: <input onchange="UpdateImageFromFile('courseCanvass','courseBackgroundImage')" type="file" id="courseBackgroundImage" /><br />
                Offset x: <input type="text" onchange="UpdateCourseImageOffset()" id="courseImageXOffset" value="0"/><br />
                Offset y: <input type="text" onchange="UpdateCourseImageOffset()" id="courseImageYOffset" value="0"/>
            </div>
            <div id="raceInfo">
                <h2>Race information</h2>
                <p>
                    <span id="raceInfoName" style="font-weight:bolder"></span><br />
                    <span id="raceInfoSystemInfo">System: <span id="raceInfoSystem"></span><br /></span>
                    Planet: <span id="raceInfoPlanet"></span><br />
                    Date: <span id="raceInfoDate"></span>
                </p>
            </div>
            <div id="leaderBoard"><h2>Leaderboard</h2>
                <table id="leaderBoardTable">
                    <tr>
                        <th></th>
                        <th>Commander</th>
                        <th>Status</th>
                    </tr>
                </table>
            </div>
        </div>
        <div id="racePanel">
            <div id="courseContainer">
                <div id="courseCanvass">
                    <div id="courseParticipants"></div>
                    <div id="courseWaypoints"></div>
                </div>
            </div>
        </div>
        <div id="commanderProfiles">
            <h2>Commander Profiles</h2>
        </div>
    </div>
    <pre id="debugLog"></pre>
</body>
</html>